{% extends 'base.html' %} {% block content %}
<h2>Customer</h2>
<div class="grid">
  <section>
    <h3>Available Services</h3>
    <ul id="services">
      {% for s in services %}
      <li>
        <button
          class="add"
          data-id="{{ s.id }}"
          data-name="{{ s.name }}"
          data-price="{{ '%.2f'|format(s.price) }}"
          data-mins="{{ s.duration_minutes }}"
        >
          Add
        </button>
        <span
          >{{ s.name }} - ${{ '%.2f'|format(s.price) }} ({{ s.duration_minutes
          }}m)</span
        >
      </li>
      {% endfor %}
    </ul>
  </section>
  <section>
    <h3>Selected Services</h3>
    <ul id="cart"></ul>
    <div class="total">Total: $<span id="total">0.00</span></div>
    <div>
      <label
        >Customer Name: <input id="customer_name" placeholder="Optional"
      /></label>
    </div>
    <button id="confirm" disabled>Confirm Selection</button>
    <div id="after_confirm" class="hidden">
      <p>Transaction Code: <strong id="txn_code"></strong></p>
      <p>Status: <span id="txn_status"></span></p>
      <h4>Confirmed Items</h4>
      <ul id="confirmed_items"></ul>
      <div class="total">
        Confirmed Total: $<span id="confirmed_total">0.00</span>
      </div>
    </div>
  </section>
</div>
<script src="/static/js/customer.js"></script>
{% endblock %}
